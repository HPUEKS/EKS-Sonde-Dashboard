{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Nav,Card,Dropdown,ButtonGroup}from'react-bootstrap';import{database,ref,onValue}from'./firebaseConfig';import SensorChart from'./SensorChart';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[sensorData,setSensorData]=useState({});const[activeTab,setActiveTab]=useState('temperature');const[timeRange,setTimeRange]=useState('Day');// New state for time range\n// Date range feature\nconst[startDate,setStartDate]=useState(null);const[endDate,setEndDate]=useState(null);const handleDateChange=dates=>{const[start,end]=dates;setStartDate(start);setEndDate(end);console.log(\"Fetching data from:\",start,\"to\",end);// Filter the data accordingly\n};useEffect(()=>{const dataRef=ref(database,'sensor_readings');onValue(dataRef,snapshot=>{const data=snapshot.val();if(data){setSensorData(data);}});},[]);const handleSelect=selectedKey=>{setActiveTab(selectedKey);};return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4\",children:\"Sensor Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center mb-3 gap-3\",children:[/*#__PURE__*/_jsxs(Dropdown,{as:ButtonGroup,children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"outline-primary\",children:timeRange}),/*#__PURE__*/_jsx(Dropdown.Menu,{children:[\"Day\",\"Week\",\"Month\",\"Year\"].map(range=>/*#__PURE__*/_jsx(Dropdown.Item,{onClick:()=>setTimeRange(range),children:range},range))})]}),/*#__PURE__*/_jsxs(Dropdown,{as:ButtonGroup,children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"outline-primary\",children:startDate&&endDate?`${startDate.toLocaleDateString()} - ${endDate.toLocaleDateString()}`:\"Select Date Range\"}),/*#__PURE__*/_jsx(Dropdown.Menu,{children:/*#__PURE__*/_jsx(DatePicker,{selected:startDate,onChange:handleDateChange,startDate:startDate,endDate:endDate,selectsRange:true,inline:true})})]})]}),/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",activeKey:activeTab,onSelect:handleSelect,className:\"justify-content-center mb-4\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"temperature\",children:\"Temperature\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"conductivity\",children:\"Conductivity\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"salinity\",children:\"Salinity\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"dissolved_solids\",children:\"Dissolved Solids\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"dissolved_oxygen\",children:\"Dissolved Oxygen\"})})]}),/*#__PURE__*/_jsx(Card,{className:\"shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:activeTab.replace('_',' ').toUpperCase()}),/*#__PURE__*/_jsx(SensorChart,{title:activeTab.replace('_',' '),data:sensorData,dataKey:activeTab,timeRange:timeRange// Pass time range to SensorChart\n,startDate:startDate// Pass date range to SensorChart\n,endDate:endDate// Pass date range to SensorChart\n,color:\"#4F46E5\"})]})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Container","Nav","Card","Dropdown","ButtonGroup","database","ref","onValue","SensorChart","DatePicker","jsx","_jsx","jsxs","_jsxs","App","sensorData","setSensorData","activeTab","setActiveTab","timeRange","setTimeRange","startDate","setStartDate","endDate","setEndDate","handleDateChange","dates","start","end","console","log","dataRef","snapshot","data","val","handleSelect","selectedKey","className","children","as","Toggle","variant","Menu","map","range","Item","onClick","toLocaleDateString","selected","onChange","selectsRange","inline","activeKey","onSelect","Link","eventKey","Body","Title","replace","toUpperCase","title","dataKey","color"],"sources":["/Users/sophiebulatovic/EKS-Sonde-Dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Nav, Card, Dropdown, ButtonGroup } from 'react-bootstrap';\nimport { database, ref, onValue } from './firebaseConfig';\nimport SensorChart from './SensorChart';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst App = () => {\n  const [sensorData, setSensorData] = useState({});\n  const [activeTab, setActiveTab] = useState('temperature');\n  const [timeRange, setTimeRange] = useState('Day');  // New state for time range\n\n  // Date range feature\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n\n  const handleDateChange = (dates) => {\n    const [start, end] = dates;\n    setStartDate(start);\n    setEndDate(end);\n    console.log(\"Fetching data from:\", start, \"to\", end);\n    // Filter the data accordingly\n  };\n\n  useEffect(() => {\n    const dataRef = ref(database, 'sensor_readings');\n\n    onValue(dataRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        setSensorData(data);\n      }\n    });\n  }, []);\n\n  const handleSelect = (selectedKey) => {\n    setActiveTab(selectedKey);\n  };\n\n  return (\n    <Container className=\"mt-5\">\n      <h1 className=\"text-center mb-4\">Sensor Dashboard</h1>\n\n      {/* Time Range and Date Range Dropdowns */}\n      <div className=\"d-flex justify-content-center mb-3 gap-3\">\n        <Dropdown as={ButtonGroup}>\n          <Dropdown.Toggle variant=\"outline-primary\">{timeRange}</Dropdown.Toggle>\n          <Dropdown.Menu>\n            {[\"Day\", \"Week\", \"Month\", \"Year\"].map(range => (\n              <Dropdown.Item key={range} onClick={() => setTimeRange(range)}>\n                {range}\n              </Dropdown.Item>\n            ))}\n          </Dropdown.Menu>\n        </Dropdown>\n        \n        <Dropdown as={ButtonGroup}>\n          <Dropdown.Toggle variant=\"outline-primary\">{startDate && endDate ? `${startDate.toLocaleDateString()} - ${endDate.toLocaleDateString()}` : \"Select Date Range\"}</Dropdown.Toggle>\n          <Dropdown.Menu>\n            <DatePicker\n              selected={startDate}\n              onChange={handleDateChange}\n              startDate={startDate}\n              endDate={endDate}\n              selectsRange\n              inline\n            />\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n\n      {/* Sensor Tabs */}\n      <Nav variant=\"tabs\" activeKey={activeTab} onSelect={handleSelect} className=\"justify-content-center mb-4\">\n        <Nav.Item><Nav.Link eventKey=\"temperature\">Temperature</Nav.Link></Nav.Item>\n        <Nav.Item><Nav.Link eventKey=\"conductivity\">Conductivity</Nav.Link></Nav.Item>\n        <Nav.Item><Nav.Link eventKey=\"salinity\">Salinity</Nav.Link></Nav.Item>\n        <Nav.Item><Nav.Link eventKey=\"dissolved_solids\">Dissolved Solids</Nav.Link></Nav.Item>\n        <Nav.Item><Nav.Link eventKey=\"dissolved_oxygen\">Dissolved Oxygen</Nav.Link></Nav.Item>\n      </Nav>\n\n      {/* Chart */}\n      <Card className=\"shadow-sm\">\n        <Card.Body>\n          <Card.Title>{activeTab.replace('_', ' ').toUpperCase()}</Card.Title>\n          <SensorChart \n            title={activeTab.replace('_', ' ')} \n            data={sensorData} \n            dataKey={activeTab} \n            timeRange={timeRange}  // Pass time range to SensorChart\n            startDate={startDate}  // Pass date range to SensorChart\n            endDate={endDate}  // Pass date range to SensorChart\n            color=\"#4F46E5\" \n          />\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}